[gd_scene load_steps=24 format=3 uid="uid://c0si0b2v6041q"]

[ext_resource type="Script" uid="uid://dju6wah07bc6b" path="res://scene/main.gd" id="1_w66mf"]
[ext_resource type="Resource" uid="uid://qnmslf1h4v02" path="res://player/player.tres" id="2_7cqwo"]
[ext_resource type="AudioStream" uid="uid://ckhqxllj2th57" path="res://sound/Theme_song/Bg_themesong2.mp3" id="3_5t126"]
[ext_resource type="Script" uid="uid://bcs0elgnr810r" path="res://scripts/game.gd" id="4_wrrry"]
[ext_resource type="PackedScene" uid="uid://dfih0lou13t2e" path="res://scene/level1.tscn" id="5_265wy"]
[ext_resource type="Script" uid="uid://d0j2o37u8fvkw" path="res://monster/enemy_script/enemy_handler.gd" id="6_33fiy"]
[ext_resource type="PackedScene" uid="uid://btumtdbsprloa" path="res://monster/monster2/monster2.tscn" id="10_sfu2m"]
[ext_resource type="Script" uid="uid://c1vmfbxaq47mq" path="res://monster/monster2/monster_2.gd" id="11_cg1dy"]
[ext_resource type="Resource" uid="uid://dt038f73udmmr" path="res://monster/monster2/golem.tres" id="12_b3v8d"]
[ext_resource type="FontFile" uid="uid://chg2124f7qxv3" path="res://fonts/TAChaiLai_Pixelforpersonal/TAChaiLai_Pixelforpersonal/TA ChaiLai_Pixel For Personal user.ttf" id="20_5t126"]
[ext_resource type="PackedScene" uid="uid://bfmwk2xm77yow" path="res://player/player.tscn" id="21_cdywr"]
[ext_resource type="PackedScene" uid="uid://ce00hqw03mxic" path="res://scene/card_target_selector/card_target_selector.tscn" id="22_ce4v7"]
[ext_resource type="Script" uid="uid://fbstc00eoqbf" path="res://player/player_handler.gd" id="23_nafjo"]
[ext_resource type="Script" uid="uid://4rik44eyxdyu" path="res://scripts/battle_ui.gd" id="24_vc67g"]
[ext_resource type="Script" uid="uid://tjm0npo5t022" path="res://scripts/hand.gd" id="25_hlws0"]
[ext_resource type="PackedScene" uid="uid://dsj2l2j31biep" path="res://ui/mana_ui.tscn" id="26_mme6r"]
[ext_resource type="PackedScene" uid="uid://yqepflqpt2tj" path="res://ui/tooltip.tscn" id="27_qysjn"]
[ext_resource type="Theme" uid="uid://564kf8hrx27g" path="res://Themes&Styles/main_theme.tres" id="28_yondm"]
[ext_resource type="Script" uid="uid://chlac7yrr2han" path="res://scripts/ui_script/red_flash.gd" id="29_ixm1w"]
[ext_resource type="PackedScene" uid="uid://c3jd76vgrs4dp" path="res://ui/battle_over_panel.tscn" id="30_1yeb2"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wp4xf"]
size = Vector2(1600, 682)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_v2gmf"]
bg_color = Color(0, 0.709804, 0.960784, 1)
border_width_left = 8
border_width_top = 8
border_width_right = 8
border_width_bottom = 8
border_color = Color(0, 0.639216, 0.8, 1)
corner_radius_top_left = 20
corner_radius_top_right = 20
corner_radius_bottom_right = 20
corner_radius_bottom_left = 20

[sub_resource type="LabelSettings" id="LabelSettings_fa8t4"]
font_size = 20
font_color = Color(1, 1, 0.188235, 1)
outline_size = 2
outline_color = Color(0, 0, 0, 1)

[node name="main" type="Node2D"]
script = ExtResource("1_w66mf")
char_stats = ExtResource("2_7cqwo")
music = ExtResource("3_5t126")

[node name="Game" type="Node" parent="."]
script = ExtResource("4_wrrry")

[node name="level1" parent="." instance=ExtResource("5_265wy")]
z_index = -2
texture_filter = 1
position = Vector2(700, 241)
scale = Vector2(1.71137, 1.71137)

[node name="carddropare" type="Area2D" parent="."]
collision_layer = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="carddropare"]
position = Vector2(800, 341)
shape = SubResource("RectangleShape2D_wp4xf")
debug_color = Color(0, 0.6, 0.701961, 0.364706)

[node name="EnemyHandler" type="Node2D" parent="."]
script = ExtResource("6_33fiy")

[node name="golem" parent="EnemyHandler" groups=["enemies"] instance=ExtResource("10_sfu2m")]
position = Vector2(1051, 560)
scale = Vector2(2.55, 2.55)
collision_layer = 4
script = ExtResource("11_cg1dy")
stats = ExtResource("12_b3v8d")

[node name="Player" parent="." instance=ExtResource("21_cdywr")]
z_index = 1
position = Vector2(212, 509)
scale = Vector2(1.61602, 1.61602)
stats = ExtResource("2_7cqwo")

[node name="CardTargetSelector" parent="." instance=ExtResource("22_ce4v7")]

[node name="PlayerHandler" type="Node" parent="." node_paths=PackedStringArray("hand")]
script = ExtResource("23_nafjo")
hand = NodePath("../battleUI/hand")

[node name="battleUI" type="CanvasLayer" parent="." groups=["ui_layer"]]
script = ExtResource("24_vc67g")

[node name="hand" type="HBoxContainer" parent="battleUI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -300.0
offset_top = -182.0
offset_right = 300.0
offset_bottom = 68.0
grow_horizontal = 2
grow_vertical = 0
scale = Vector2(0.713703, 0.713703)
size_flags_horizontal = 3
theme_override_constants/separation = 20
alignment = 1
script = ExtResource("25_hlws0")

[node name="ManaUI" parent="battleUI" instance=ExtResource("26_mme6r")]
texture_filter = 1
offset_left = 79.0
offset_top = -116.0
offset_right = 154.0
offset_bottom = -41.0
theme = null
theme_override_styles/panel = SubResource("StyleBoxFlat_v2gmf")
char_stats = ExtResource("2_7cqwo")

[node name="Tooltip" parent="battleUI" instance=ExtResource("27_qysjn")]
offset_top = 28.0
offset_bottom = 248.0

[node name="EndTurnButton" type="Button" parent="battleUI"]
unique_name_in_owner = true
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -218.0
offset_top = -79.0
offset_right = -33.8101
offset_bottom = -28.055
grow_horizontal = 0
grow_vertical = 0
theme = ExtResource("28_yondm")
text = "End This Turn"

[node name="RedFlash" type="CanvasLayer" parent="."]
layer = 2
script = ExtResource("29_ixm1w")

[node name="ColorRect" type="ColorRect" parent="RedFlash"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(1, 0, 0, 0)

[node name="Timer" type="Timer" parent="RedFlash"]
wait_time = 0.1
one_shot = true

[node name="BattleOverLayer" type="CanvasLayer" parent="."]
layer = 2

[node name="BattleOverPanel" parent="BattleOverLayer" instance=ExtResource("30_1yeb2")]
visible = false

[node name="tutorial" type="CanvasLayer" parent="."]

[node name="Label" type="Label" parent="tutorial"]
offset_left = 169.0
offset_top = 806.0
offset_right = 480.0
offset_bottom = 834.0
theme_override_colors/font_color = Color(0.578447, 0.595369, 5.77569e-07, 1)
theme_override_fonts/font = ExtResource("20_5t126")
text = "<- มานาของเรา จะหายไปเมื่อใช้การ์ด"
label_settings = SubResource("LabelSettings_fa8t4")

[node name="Label2" type="Label" parent="tutorial"]
offset_left = 292.0
offset_top = 680.0
offset_right = 570.0
offset_bottom = 757.0
theme_override_colors/font_color = Color(0.578447, 0.595369, 5.77569e-07, 1)
theme_override_fonts/font = ExtResource("20_5t126")
text = "<- ทั้งตัวเราและ monster 
ต่างมีเกราะและพลังชีวิต"
label_settings = SubResource("LabelSettings_fa8t4")

[node name="Label3" type="Label" parent="tutorial"]
texture_filter = 1
offset_left = 1124.0
offset_top = 466.0
offset_right = 1496.0
offset_bottom = 531.0
theme_override_colors/font_color = Color(0.578447, 0.595369, 5.77569e-07, 1)
theme_override_fonts/font = ExtResource("20_5t126")
text = "<- สถานะว่า monster จะทำอะไรในตาถัดไป 
โดยจะมีทั้งโจมตีและป้องกัน"
label_settings = SubResource("LabelSettings_fa8t4")

[node name="Label4" type="Label" parent="tutorial"]
offset_left = 916.0
offset_top = 746.0
offset_right = 1342.0
offset_bottom = 823.0
theme_override_colors/font_color = Color(0.580392, 0.596078, 0, 1)
theme_override_fonts/font = ExtResource("20_5t126")
text = "<- การ์ดแอ็คชั่นของเรา คลิกซ้ายเพื่อเลือก
และใช้ได้ตามมานาที่จำกัด"
label_settings = SubResource("LabelSettings_fa8t4")

[node name="Label5" type="Label" parent="tutorial"]
offset_left = 1169.0
offset_top = 108.0
offset_right = 1579.0
offset_bottom = 173.0
theme_override_colors/font_color = Color(0.578447, 0.595369, 5.77569e-07, 1)
theme_override_fonts/font = ExtResource("20_5t126")
text = "<- ความสามารถของการ์ด"
label_settings = SubResource("LabelSettings_fa8t4")

[node name="Label6" type="Label" parent="tutorial"]
offset_left = 1144.0
offset_top = 829.0
offset_right = 1379.0
offset_bottom = 869.0
theme_override_colors/font_color = Color(0.578447, 0.595369, 5.77569e-07, 1)
theme_override_fonts/font = ExtResource("20_5t126")
text = "กดเพื่อจบรอบของเรา->"
label_settings = SubResource("LabelSettings_fa8t4")

[connection signal="area_entered" from="EnemyHandler/golem" to="EnemyHandler/golem" method="_on_area_entered"]
[connection signal="area_exited" from="EnemyHandler/golem" to="EnemyHandler/golem" method="_on_area_exited"]
